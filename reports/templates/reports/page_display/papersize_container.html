{% load page_tags %}
{% load pdf_tags %}


<div name="page_container" style="
        width:{{ measurements.size.width }};
        height:{{ measurements.size.height }};
        position:relative;
    ">
    <div name="layout_container" style="width: 100%; height: 100%; position: absolute;">
    {% render_layout %}
    </div>
    <div class="" style="
            width:100%;
            height:100%;
            border: 1px solid black;
            overflow: hidden;
            padding: {{ measurements.margins }};
            box-sizing: border-box;
            border: 1px solid red;">

        <div style="height: 100%; position:relative;
                {% if header %} padding-top: 10mm;{% endif %}
                {% if footer %} padding-bottom: 10mm; {% endif %}
            ">
            <div style="height: 100%; overflow: hidden;">
                {% render_module page.root_module use_overlay=False %}
            </div>

            {% if header %}
                <div class="text-center" style="position: absolute; top: 0; width: 100%;">
                    {{ header|get_page_number:page }}
                </div>
            {% endif %}

            {% if footer %}
                <div class="text-center" style="position: absolute; bottom: 0; width: 100%;">
                    {{ footer|get_page_number:page }}
                </div>
            {% endif %}
        </div>
    </div>
</div>